% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/item_build_design.R
\name{item_build_design}
\alias{item_build_design}
\title{Build ITEM design metadata}
\usage{
item_build_design(
  X_t,
  T_target = NULL,
  run_id = NULL,
  C_transform = NULL,
  trial_id = NULL,
  trial_hash = NULL,
  meta = list(),
  diagnostics = list(),
  validate = TRUE
)
}
\arguments{
\item{X_t}{Numeric trial-wise design matrix with shape `n_time x n_trials`.}

\item{T_target}{Optional supervised targets with `n_trials` rows. Accepts:
numeric matrix/data.frame, numeric vector (regression), or
factor/character/logical vector (classification labels).}

\item{run_id}{Optional run/session identifier of length `n_trials`.
If `NULL`, all trials are assigned to a single run.}

\item{C_transform}{Optional transformation matrix used for
`X = X_t %*% C_transform`. Must have `n_trials` rows when provided.}

\item{trial_id}{Optional trial identifier vector of length `n_trials`.
Defaults to `colnames(X_t)` when available, else `Trial_1..Trial_n`.}

\item{trial_hash}{Optional hash used by alignment guards.
If supplied, `item_cv(..., check_hash = TRUE)` validates it.}

\item{meta}{Optional metadata list.}

\item{diagnostics}{Optional diagnostics list to attach to the bundle.}

\item{validate}{Logical; when `TRUE` run strict structure checks.}
}
\value{
An object of class `item_bundle` with fields:
  `Gamma`, `X_t`, `C_transform`, `T_target`, `U`, `U_by_run`, `run_id`,
  `trial_id`, `trial_hash`, `trial_info`, `meta`, and `diagnostics`.
}
\description{
Build and validate trial-wise design objects used by the ITEM helper layer.
The returned object has class `item_bundle` and carries trial-level metadata
needed by `item_cv()` and `item_slice_fold()`.
}
